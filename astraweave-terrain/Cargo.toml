[package]
name = "astraweave-terrain"
version.workspace = true
edition.workspace = true
license.workspace = true
publish.workspace = true

[dependencies]
anyhow.workspace = true
glam.workspace = true
rand.workspace = true
serde.workspace = true
astraweave-core = { path = "../astraweave-core" }
astraweave-gameplay = { path = "../astraweave-gameplay" }
noise = "0.9"
rayon = "1.11"
tokio = { version = "1", features = ["sync", "rt"] }
thiserror = "1"
bincode = "1.3"           # Phase 10: Terrain persistence serialization
miniz_oxide = "0.8"       # Phase 10: Compression for terrain saves

[features]
default = ["hybrid-voxel", "simd-noise"]
hybrid-voxel = []
simd-noise = [] # Week 3 Action 8: SIMD-optimized noise generation (20-30% speedup)

[dev-dependencies]
criterion.workspace = true
serde_json.workspace = true
tokio = { version = "1", features = ["rt", "rt-multi-thread", "sync", "macros"] }
tempfile = "3"            # Phase 10: Terrain persistence tests

[[bench]]
name = "terrain_generation"
harness = false