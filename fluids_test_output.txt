   Compiling astraweave-fluids v0.1.0 (C:\Users\pv2br\AstraWeave-AI-Native-Gaming-Engine\astraweave-fluids)
warning: unused import: `wgpu::util::DeviceExt`
 --> astraweave-fluids\src\anisotropic.rs:6:5
  |
6 | use wgpu::util::DeviceExt;
  |     ^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: fields `compute_pipeline`, `bind_group`, and `capacity` are never read
  --> astraweave-fluids\src\anisotropic.rs:61:5
   |
55 | pub struct AnisotropicSystem {
   |            ----------------- fields in this struct
...
61 |     compute_pipeline: wgpu::ComputePipeline,
   |     ^^^^^^^^^^^^^^^^
62 |     /// Bind group for compute
63 |     bind_group: Option<wgpu::BindGroup>,
   |     ^^^^^^^^^^
64 |     /// Capacity in particles
65 |     capacity: u32,
   |     ^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: `astraweave-fluids` (lib test) generated 2 warnings (run `cargo fix --lib -p astraweave-fluids --tests` to apply 1 suggestion)
warning: `astraweave-fluids` (lib) generated 2 warnings (2 duplicates)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 9.33s
     Running unittests src\lib.rs (target\debug\deps\astraweave_fluids-8e88722003b2fec9.exe)

running 358 tests
test building::tests::test_dispenser_auto_shutoff ... ok
test building::tests::test_dispenser_creates_water ... ok
test building::tests::test_gate_groups ... ok
test building::tests::test_gate_opens_closes ... ok
test building::tests::test_building_manager ... ok
test building::tests::test_drain_removes_water ... ok
test building::tests::test_gate_flow_multiplier ... ok
test building::tests::test_water_wheel_no_flow ... ok
test caustics::tests::test_caustics_config_default ... ok
test caustics::tests::test_caustics_config_presets ... ok
test caustics::tests::test_chromatic_sample ... ok
test caustics::tests::test_caustics_uniforms ... ok
test caustics::tests::test_caustics_uniforms_size ... ok
test caustics::tests::test_projector_creation ... ok
test caustics::tests::test_sample_above_water ... ok
test caustics::tests::test_projector_bounds ... ok
test caustics::tests::test_sample_too_deep ... ok
test caustics::tests::test_sample_underwater ... ok
test caustics::tests::test_system_creation ... ok
test caustics::tests::test_system_add_projector ... ok
test caustics::tests::test_system_clear ... ok
test caustics::tests::test_system_sample ... ok
test caustics::tests::test_system_update ... ok
test caustics::tests::test_system_get_uniforms ... ok
test caustics::tests::test_wgsl_shader_exists ... ok
test debug_viz::tests::test_debug_config_all_enabled ... ok
test debug_viz::tests::test_debug_line_creation ... ok
test debug_viz::tests::test_debug_config_default ... ok
test debug_viz::tests::test_debug_line_colors ... ok
test debug_viz::tests::test_debug_vertex_from_line ... ok
test debug_viz::tests::test_debug_vertex_from_point ... ok
test debug_viz::tests::test_debug_point_from_particle ... ok
test debug_viz::tests::test_draw_list_add_circle ... ok
test debug_viz::tests::test_draw_list_add_grid ... ok
test debug_viz::tests::test_draw_list_clear ... ok
test debug_viz::tests::test_draw_list_creation ... ok
test debug_viz::tests::test_debug_vertex_size ... ok
test debug_viz::tests::test_draw_list_add_aabb ... ok
test debug_viz::tests::test_draw_list_add_primitives ... ok
test debug_viz::tests::test_draw_list_add_velocity ... ok
test debug_viz::tests::test_stats_formatter_time ... ok
test debug_viz::tests::test_with_capacity ... ok
test emitter::tests::test_emitter_custom_velocity ... ok
test emitter::tests::test_emitter_shape_box ... ok
test debug_viz::tests::test_stats_formatter_count ... ok
test editor::tests::test_config_roundtrip ... ok
test emitter::tests::test_emitter_custom_transform ... ok
test debug_viz::tests::test_stats_formatter_percent ... ok
test emitter::tests::test_emitter_shape_point_matches ... ok
test emitter::tests::test_emitter_shape_sphere_matches ... ok
test emitter::tests::test_emitter_with_jitter ... ok
test emitter::tests::test_emitter_zero_rate ... ok
test emitter::tests::test_emitter_shape_box_matches ... ok
test emitter::tests::test_emitter_shape_mesh_matches ... ok
test emitter::tests::test_emitter_very_small_dt ... ok
test emitter::tests::test_emitter_very_large_dt ... ok
test emitter::tests::test_fluid_drain_large_radius ... ok
test emitter::tests::test_fluid_drain_negative_position ... ok
test emitter::tests::test_fluid_emitter_default ... ok
test emitter::tests::test_mesh_emitter_creation ... ok
test emitter::tests::test_fluid_drain_at_origin ... ok
test emitter::tests::test_fluid_drain_disable ... ok
test emitter::tests::test_fluid_drain_new ... ok
test emitter::tests::test_fluid_drain_small_radius ... ok
test emitter::tests::test_multiple_ticks_accumulation ... ok
test emitter::tests::test_point_emitter_at_origin ... ok
test emitter::tests::test_sphere_emitter_creation ... ok
test emitter::tests::test_sphere_emitter_large_radius ... ok
test emitter::tests::test_mesh_emitter_empty_mesh ... ok
test emitter::tests::test_point_emitter_creation ... ok
test emitter::tests::test_mesh_emitter_single_vertex ... ok
test emitter::tests::test_point_emitter_negative_position ... ok
test emitter::tests::test_tick_colors_match_emitter ... ok
test emitter::tests::test_tick_disabled_emitter ... ok
test emitter::tests::test_tick_mesh_emitter_empty ... ok
test emitter::tests::test_tick_mesh_emitter_with_vertices ... ok
test emitter::tests::test_sphere_emitter_small_radius ... ok
test emitter::tests::test_tick_high_rate_emitter ... ok
test emitter::tests::test_tick_low_rate_emitter ... ok
test emitter::tests::test_tick_accumulates_fractional_particles ... ok
test emitter::tests::test_tick_spawns_particles ... ok
test emitter::tests::test_tick_sphere_emitter ... ok
test foam::tests::test_foam_config_default ... ok
test foam::tests::test_foam_config_presets ... ok
test emitter::tests::test_tick_particle_positions_at_origin ... ok
test emitter::tests::test_tick_particle_positions_offset ... ok
test emitter::tests::test_tick_zero_dt ... ok
test foam::tests::test_foam_clear ... ok
test foam::tests::test_foam_spawn ... ok
test foam::tests::test_foam_spawn_burst ... ok
test foam::tests::test_foam_trail_max_points ... ok
test foam::tests::test_foam_update_fade ... ok
test foam::tests::test_foam_max_particles ... ok
test foam::tests::test_foam_source_values ... ok
test foam::tests::test_foam_system_creation ... ok
test foam::tests::test_foam_trail ... ok
test foam::tests::test_foam_update_lifetime ... ok
test foam::tests::test_foam_wake_generation ... ok
test foam::tests::test_gpu_particle_conversion ... ok
test god_rays::tests::test_config_default ... ok
test foam::tests::test_foam_whitecap_generation ... ok
test foam::tests::test_gpu_foam_particle_size ... ok
test god_rays::tests::test_config_presets ... ok
test god_rays::tests::test_light_shaft_contains_point ... ok
test god_rays::tests::test_system_clear_shafts ... ok
test god_rays::tests::test_system_creation ... ok
test god_rays::tests::test_system_get_uniforms ... ok
test god_rays::tests::test_system_light_direction ... ok
test god_rays::tests::test_light_shaft_creation ... ok
test god_rays::tests::test_system_generate_shafts_above_water ... ok
test god_rays::tests::test_system_generate_shafts_underwater ... ok
test god_rays::tests::test_light_shaft_intensity ... ok
test god_rays::tests::test_uniforms_creation ... ok
test god_rays::tests::test_uniforms_size ... ok
test gpu_volume::tests::test_uniforms_size ... ok
test gpu_volume::tests::test_water_surface_vertex_size ... ok
test god_rays::tests::test_system_sample_above_water ... ok
test god_rays::tests::test_wgsl_shader_exists ... ok
test god_rays::tests::test_system_update ... ok
test gpu_volume::tests::test_gpu_water_cell_size ... ok
test lod::tests::test_frame_accumulator_increments ... ok
test lod::tests::test_lod_3d_distance ... ok
test lod::tests::test_lod_config_default ... ok
test lod::tests::test_lod_culled_threshold ... ok
test lod::tests::test_custom_lod_distances ... ok
test lod::tests::test_custom_sim_rate_multipliers ... ok
test lod::tests::test_lod_config_custom ... ok
test lod::tests::test_lod_config_clone ... ok
test lod::tests::test_lod_distance_thresholds ... ok
test lod::tests::test_lod_full_threshold ... ok
test lod::tests::test_lod_level_debug ... ok
test lod::tests::test_lod_high_threshold ... ok
test lod::tests::test_lod_level_copy ... ok
test lod::tests::test_lod_level_values ... ok
test lod::tests::test_lod_low_threshold ... ok
test lod::tests::test_lod_level_eq ... ok
test lod::tests::test_lod_manager_new ... ok
test lod::tests::test_lod_medium_threshold ... ok
test lod::tests::test_should_simulate_full_lod ... ok
test lod::tests::test_should_simulate_high_lod ... ok
test lod::tests::test_lod_negative_coordinates ... ok
test lod::tests::test_should_simulate_culled ... ok
test lod::tests::test_sim_rate_multiplier_culled ... ok
test lod::tests::test_sim_rate_multiplier_full ... ok
test lod::tests::test_sim_rate_multiplier_high ... ok
test lod::tests::test_sim_rate_multiplier_low ... ok
test lod::tests::test_update_returns_should_simulate ... ok
test optimization::tests::test_adaptive_iterations_bounds ... ok
test lod::tests::test_sim_rate_multiplier_medium ... ok
test lod::tests::test_update_culled_returns_false ... ok
test optimization::tests::test_adaptive_iterations_decrease ... ok
test optimization::tests::test_adaptive_iterations_increase ... ok
test optimization::tests::test_adaptive_iterations_new ... ok
test optimization::tests::test_adaptive_iterations_reset ... ok
test optimization::tests::test_batch_spawner_full_signal ... ok
test optimization::tests::test_batch_spawner_clear ... ok
test optimization::tests::test_batch_spawner_flush ... ok
test optimization::tests::test_batch_spawner_queue ... ok
test optimization::tests::test_batch_spawner_queue_many ... ok
test optimization::tests::test_batch_spawner_new ... ok
test optimization::tests::test_batch_spawner_with_budget ... ok
test optimization::tests::test_full_optimization_workflow ... ok
test optimization::tests::test_morton_code_origin ... ok
test optimization::tests::test_morton_code_corners ... ok
test optimization::tests::test_morton_code_from_position ... ok
test optimization::tests::test_morton_code_single_axis ... ok
test optimization::tests::test_optimization_preset_balanced ... ok
test optimization::tests::test_morton_code_roundtrip ... ok
test optimization::tests::test_optimization_preset_quality ... ok
test optimization::tests::test_simulation_budget_feature_enabled ... ok
test optimization::tests::test_simulation_budget_recommended_iterations ... ok
test optimization::tests::test_simulation_budget_reset ... ok
test optimization::tests::test_optimization_preset_default ... ok
test optimization::tests::test_optimization_preset_performance ... ok
test optimization::tests::test_simulation_budget_new ... ok
test optimization::tests::test_simulation_budget_over_budget ... ok
test optimization::tests::test_temporal_coherence_new ... ok
test optimization::tests::test_temporal_coherence_reset ... ok
test optimization::tests::test_temporal_coherence_wake_up ... ok
test optimization::tests::test_workgroup_config_amd ... ok
test optimization::tests::test_simulation_budget_under_budget ... ok
test optimization::tests::test_temporal_coherence_disabled ... ok
test optimization::tests::test_temporal_coherence_should_simulate_resting ... ok
test optimization::tests::test_temporal_coherence_should_simulate_moving ... ok
test optimization::tests::test_workgroup_dispatch_calculation ... ok
test optimization::tests::test_workgroup_grid_dispatch ... ok
test profiling::tests::test_breakdown_zero_total ... ok
test profiling::tests::test_fluid_profiler_default ... ok
test optimization::tests::test_workgroup_config_nvidia ... ok
test optimization::tests::test_workgroup_config_universal ... ok
test profiling::tests::test_breakdown_percentages_sum ... ok
test profiling::tests::test_breakdown_all_keys_present ... ok
test profiling::tests::test_fluid_timing_stats_default ... ok
test profiling::tests::test_profiler_accumulated_stats ... ok
test profiling::tests::test_profiler_average_stats_single_frame ... ok
test profiling::tests::test_profiler_enable_disable ... ok
test profiling::tests::test_fluid_profiler_new ... ok
test profiling::tests::test_profiler_average_stats_multiple_frames ... ok
test profiling::tests::test_profiler_average_stats_no_frames ... ok
test profiling::tests::test_fluid_timing_stats_clone ... ok
test profiling::tests::test_profiler_record_frame_when_enabled ... ok
test profiling::tests::test_profiler_reset ... ok
test profiling::tests::test_profiler_with_stats_workflow ... ok
test profiling::tests::test_stats_breakdown ... ok
test profiling::tests::test_profiler_latest_stats_override ... ok
test profiling::tests::test_profiler_record_frame_when_disabled ... ok
test profiling::tests::test_profiler_reset_maintains_enabled_state ... ok
test profiling::tests::test_profiler_stats_access ... ok
test profiling::tests::test_total_ms_large_value ... ok
test profiling::tests::test_total_ms_zero ... ok
test serialization::tests::test_fluid_snapshot_extreme_values ... ok
test serialization::tests::test_fluid_snapshot_from_bytes_empty ... ok
test profiling::tests::test_total_ms_conversion ... ok
test profiling::tests::test_total_ms_fractional ... ok
test sdf::tests::test_jfa_convergence_steps ... ok
test serialization::tests::test_fluid_snapshot_clone ... ok
test serialization::tests::test_fluid_snapshot_from_bytes_invalid ... ok
test serialization::tests::test_fluid_snapshot_roundtrip ... ok
test serialization::tests::test_fluid_snapshot_large_particle_count ... ok
test serialization::tests::test_fluid_snapshot_to_bytes_empty ... ok
test serialization::tests::test_fluid_snapshot_nan_values ... ok
test serialization::tests::test_fluid_snapshot_params_preserved ... ok
test serialization::tests::test_fluid_snapshot_version_constant ... ok
test serialization::tests::test_fluid_snapshot_version_mismatch_handling ... ok
test serialization::tests::test_fluid_snapshot_with_zero_capacity ... ok
test serialization::tests::test_multiple_serialization_roundtrips ... ok
test serialization::tests::test_snapshot_params_roundtrip ... ok
test serialization::tests::test_snapshot_params_zero_values ... ok
test serialization::tests::test_fluid_snapshot_with_capacity ... ok
test serialization::tests::test_snapshot_params_clone ... ok
test serialization::tests::test_snapshot_params_default ... ok
test serialization::tests::test_fluid_snapshot_with_large_capacity ... ok
test terrain_integration::tests::test_ocean_config ... ok
test terrain_integration::tests::test_river_config_defaults ... ok
test terrain_integration::tests::test_water_body_types ... ok
test tests::test_aabb_validation ... ok
test terrain_integration::tests::test_detected_water_body ... ok
test terrain_integration::tests::test_flow_accumulation_basic ... ok
test terrain_integration::tests::test_terrain_fluid_config_presets ... ok
test terrain_integration::tests::test_water_analysis ... ok
test tests::test_despawn_region_processing_logic ... ok
test tests::test_dynamic_object_bytemuck_cast ... ok
test tests::test_dynamic_object_identity ... ok
test tests::test_dynamic_object_size ... ok
test tests::test_despawn_boundary_conditions ... ok
test tests::test_despawn_multiple_regions ... ok
test tests::test_dynamic_object_clone ... ok
test tests::test_dynamic_object_copy ... ok
test tests::test_particle_bytemuck_cast ... ok
test tests::test_particle_color_channels ... ok
test tests::test_particle_phase_values ... ok
test tests::test_particle_position_cache_initial ... ok
test tests::test_dynamic_object_sphere ... ok
test tests::test_particle_default_values ... ok
test tests::test_particle_initial_spacing ... ok
test tests::test_grid_indexing_consistency ... ok
test tests::test_particle_with_velocity ... ok
test tests::test_point_in_aabb ... ok
test tests::test_particle_size ... ok
test tests::test_particle_temperature ... ok
test tests::test_secondary_particle_bytemuck_cast ... ok
test tests::test_secondary_particle_clone ... ok
test tests::test_secondary_particle_copy ... ok
test tests::test_secondary_particle_creation ... ok
test tests::test_sim_params_bytemuck_cast ... ok
test tests::test_sim_params_default ... ok
test tests::test_secondary_particle_size ... ok
test tests::test_secondary_particle_types ... ok
test tests::test_sim_params_dt_values ... ok
test tests::test_sim_params_grid_configuration ... ok
test tests::test_sim_params_size ... ok
test underwater::tests::test_config_presets ... ok
test underwater::tests::test_underwater_state_update ... ok
test underwater::tests::test_underwater_transition ... ok
test underwater::tests::test_depth_zone_manager ... ok
test underwater::tests::test_underwater_config_default ... ok
test underwater::tests::test_uniforms_size ... ok
test underwater::tests::test_visibility_distance ... ok
test underwater_particles::tests::test_bubble_pops_at_surface ... ok
test underwater_particles::tests::test_bubble_rises ... ok
test underwater_particles::tests::test_clear_particles ... ok
test underwater_particles::tests::test_gpu_particle_conversion ... ok
test underwater_particles::tests::test_bubble_stream ... ok
test underwater_particles::tests::test_gpu_underwater_particle_size ... ok
test underwater_particles::tests::test_max_particles_limit ... ok
test underwater_particles::tests::test_bubble_stream_inactive ... ok
test underwater_particles::tests::test_no_player_bubbles_above_water ... ok
test underwater_particles::tests::test_particle_opacity_lifecycle ... ok
test underwater_particles::tests::test_spawn_ambient ... ok
test underwater_particles::tests::test_spawn_bubble ... ok
test underwater_particles::tests::test_particle_type_values ... ok
test underwater_particles::tests::test_player_bubbles ... ok
test underwater_particles::tests::test_system_creation ... ok
test underwater_particles::tests::test_spawn_debris ... ok
test underwater_particles::tests::test_underwater_config_default ... ok
test underwater_particles::tests::test_underwater_config_presets ... ok
test volume_grid::tests::test_grid_creation ... ok
test volume_grid::tests::test_add_water ... ok
test volume_grid::tests::test_horizontal_spreading ... ok
test volume_grid::tests::test_flood_fill ... ok
test volume_grid::tests::test_material_absorption ... ok
test volume_grid::tests::test_remove_water_in_bounds ... ok
test volume_grid::tests::test_stone_blocks_flow ... ok
test volume_grid::tests::test_submersion_sampling ... ok
test water_effects::tests::test_apply_preset ... ok
test water_effects::tests::test_can_spawn_particles ... ok
test volume_grid::tests::test_vertical_flow ... ok
test water_effects::tests::test_clear_particles ... ok
test water_effects::tests::test_config_from_preset ... ok
test water_effects::tests::test_accessors ... ok
test water_effects::tests::test_config_validation_invalid_budget ... ok
test water_effects::tests::test_config_validation_invalid_caustics ... ok
test water_effects::tests::test_config_validation_valid ... ok
test water_effects::tests::test_enable_disable_systems ... ok
test water_effects::tests::test_config_validation_invalid_god_rays ... ok
test water_effects::tests::test_config_validation_invalid_reflections ... ok
test water_effects::tests::test_get_uniforms ... ok
test water_effects::tests::test_error_display ... ok
test water_effects::tests::test_manager_creation ... ok
test water_effects::tests::test_manager_from_preset ... ok
test water_effects::tests::test_quality_preset_description ... ok
test water_effects::tests::test_reset ... ok
test water_effects::tests::test_manager_invalid_config ... ok
test water_effects::tests::test_manager_update ... ok
test water_effects::tests::test_setup_water_surface ... ok
test water_effects::tests::test_stats_breakdown ... ok
test water_effects::tests::test_stats_collection ... ok
test water_reflections::tests::test_config_default ... ok
test water_reflections::tests::test_has_planar_fallback ... ok
test water_reflections::tests::test_planar_reflect_position ... ok
test water_reflections::tests::test_config_presets ... ok
test water_reflections::tests::test_fresnel_calculation ... ok
test water_reflections::tests::test_planar_reflection_creation ... ok
test water_reflections::tests::test_planar_update_height ... ok
test water_reflections::tests::test_system_creation ... ok
test water_reflections::tests::test_system_setup_planar ... ok
test water_reflections::tests::test_target_dimensions_minimum ... ok
test water_reflections::tests::test_uniforms_creation ... ok
test water_reflections::tests::test_system_update_height ... ok
test water_reflections::tests::test_target_dimensions ... ok
test water_reflections::tests::test_wgsl_shader_exists ... ok
test water_reflections::tests::test_uniforms_size ... ok
test waterfall::tests::test_gpu_water_particle_conversion ... ok
test waterfall::tests::test_gpu_water_particle_size ... ok
test waterfall::tests::test_rapids_spawn_along_path ... ok
test waterfall::tests::test_rapids_system_creation ... ok
test waterfall::tests::test_particle_opacity ... ok
test waterfall::tests::test_rapids_update ... ok
test waterfall::tests::test_particle_type_values ... ok
test waterfall::tests::test_waterfall_add_source ... ok
test waterfall::tests::test_waterfall_clear ... ok
test waterfall::tests::test_waterfall_config_default ... ok
test waterfall::tests::test_waterfall_source ... ok
test waterfall::tests::test_waterfall_source_random_point ... ok
test waterfall::tests::test_waterfall_config_presets ... ok
test waterfall::tests::test_waterfall_particles_fall ... ok
test waterfall::tests::test_waterfall_system_creation ... ok
test waterfall::tests::test_waterfall_update_spawns_particles ... ok

test result: ok. 358 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 13.22s

   Doc-tests astraweave_fluids

running 2 tests
test astraweave-fluids\src\lib.rs - (line 25) ... ignored
test astraweave-fluids\src\optimization.rs - optimization (line 34) ... ignored

test result: ok. 0 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.11s

