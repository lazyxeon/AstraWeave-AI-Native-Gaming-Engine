   Compiling astraweave-llm v0.1.0 (C:\Users\pv2br\AstraWeave-AI-Native-Gaming-Engine\astraweave-llm)
warning: comparison is useless due to type limits
   --> astraweave-llm\src\circuit_breaker.rs:941:17
    |
941 |         assert!(result.execution_time.as_nanos() >= 0);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(unused_comparisons)]` on by default

warning: `astraweave-llm` (lib test) generated 1 warning
    Finished `test` profile [optimized + debuginfo] target(s) in 49.96s
     Running unittests src\lib.rs (target\debug\deps\astraweave_llm-08c5e2dfe2678400.exe)

running 63 tests
test production_hardening::tests::test_component_health_with_error ... ok
test production_hardening::tests::test_component_health_debug ... ok
test production_hardening::tests::test_component_health_creation ... ok
test production_hardening::tests::test_hardened_request_no_timeout ... ok
test production_hardening::tests::test_hardened_request_debug ... ok
test production_hardening::tests::test_get_system_status_after_start ... ok
test production_hardening::tests::test_hardening_config_clone ... ok
test production_hardening::tests::test_hardening_config_custom_values ... ok
test production_hardening::tests::test_hardened_request_clone ... ok
test production_hardening::tests::test_component_health_deserialization ... ok
test production_hardening::tests::test_hardened_request_creation ... ok
test production_hardening::tests::test_component_health_serialization ... ok
test production_hardening::tests::test_hardened_request_with_metadata ... ok
test production_hardening::tests::test_hardening_config_debug ... ok
test production_hardening::tests::test_hardened_request_with_timeout ... ok
test production_hardening::tests::test_hardening_result_debug ... ok
test production_hardening::tests::test_hardening_result_rejected_with_no_retry ... ok
test production_hardening::tests::test_health_check_config_debug ... ok
test production_hardening::tests::test_health_check_config_default ... ok
test production_hardening::tests::test_health_checker_check_health_timeout ... ok
test production_hardening::tests::test_component_health_clone ... ok
test production_hardening::tests::test_health_checker_consecutive_failures_threshold ... ok
test production_hardening::tests::test_hardening_config_default ... ok
test production_hardening::tests::test_hardening_result_variants ... ok
test production_hardening::tests::test_health_check_config_clone ... ok
test production_hardening::tests::test_health_checker_get_overall_health ... ok
test production_hardening::tests::test_health_checker_get_overall_health_unhealthy ... ok
test production_hardening::tests::test_health_checker_check_health_failure ... ok
test production_hardening::tests::test_health_checker_get_overall_health_with_mixed_status ... ok
test production_hardening::tests::test_health_checker_check_health_success ... ok
test production_hardening::tests::test_health_checker_initial_status ... ok
test production_hardening::tests::test_health_status_equality ... ok
test production_hardening::tests::test_health_status_serialization ... ok
test production_hardening::tests::test_health_checker_unknown_component ... ok
test production_hardening::tests::test_health_recovery_from_degraded ... FAILED
test production_hardening::tests::test_process_request_backpressure_degraded ... ok
test production_hardening::tests::test_process_request_backpressure_degraded_full ... ok
test production_hardening::tests::test_health_checker_new_component ... ok
test production_hardening::tests::test_health_status_clone ... ok
test production_hardening::tests::test_priority_usage ... ok
test production_hardening::tests::test_priority_conversion_all_variants ... ok
test production_hardening::tests::test_process_request_backpressure_rejected ... ok
test production_hardening::tests::test_process_request_backpressure_queued ... ok
test production_hardening::tests::test_health_status_deserialization ... ok
test production_hardening::tests::test_process_request_backpressure_rejected_error_path ... ok
test production_hardening::tests::test_process_request_backpressure_queued_error_path ... ok
test production_hardening::tests::test_health_checker_new ... ok
test production_hardening::tests::test_production_hardening_layer_creation ... ok
test production_hardening::tests::test_production_layer_start ... ok
test production_hardening::tests::test_record_failure ... ok
test production_hardening::tests::test_system_health_clone ... ok
test production_hardening::tests::test_system_health_creation ... ok
test production_hardening::tests::test_process_request_timeout ... ok
test production_hardening::tests::test_production_layer_shutdown_without_start ... ok
test production_hardening::tests::test_process_request_rate_limited ... ok
test production_hardening::tests::test_record_success ... ok
test production_hardening::tests::test_system_health_deserialization ... ok
test production_hardening::tests::test_system_health_debug ... ok
test production_hardening::tests::test_successful_request_processing ... ok
test production_hardening::tests::test_process_request_circuit_breaker_open ... ok
test production_hardening::tests::test_system_health_serialization ... ok
test production_hardening::tests::test_system_status ... ok
test production_hardening::tests::test_production_layer_shutdown_timeout ... ok

failures:

---- production_hardening::tests::test_health_recovery_from_degraded stdout ----

thread 'production_hardening::tests::test_health_recovery_from_degraded' panicked at astraweave-llm\src\production_hardening.rs:1522:9:
assertion `left == right` failed
  left: Degraded
 right: Healthy
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    production_hardening::tests::test_health_recovery_from_degraded

test result: FAILED. 62 passed; 1 failed; 0 ignored; 0 measured; 518 filtered out; finished in 2.26s

error: test failed, to rerun pass `-p astraweave-llm --lib`
