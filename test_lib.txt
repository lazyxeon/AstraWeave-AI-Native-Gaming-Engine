    Blocking waiting for file lock on build directory
   Compiling astraweave-llm v0.1.0 (C:\Users\pv2br\AstraWeave-AI-Native-Gaming-Engine\astraweave-llm)
warning: unused variable: `layer`
   --> astraweave-llm\src\production_hardening.rs:891:13
    |
891 |         let layer = ProductionHardeningLayer::new(config);
    |             ^^^^^ help: if this is intentional, prefix it with an underscore: `_layer`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: comparison is useless due to type limits
   --> astraweave-llm\src\circuit_breaker.rs:941:17
    |
941 |         assert!(result.execution_time.as_nanos() >= 0);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(unused_comparisons)]` on by default

warning: `astraweave-llm` (lib test) generated 2 warnings
    Finished `test` profile [optimized + debuginfo] target(s) in 1m 29s
     Running unittests src\lib.rs (target\debug\deps\astraweave_llm-00109c0de166be5c.exe)

running 535 tests
test ab_testing::tests::test_ab_test_config_default ... ok
test ab_testing::tests::test_assign_variant_to_stopped_experiment ... ok
test ab_testing::tests::test_create_experiment ... ok
test ab_testing::tests::test_custom_assignment_strategy ... ok
test ab_testing::tests::test_ab_test_config_clone ... ok
test ab_testing::tests::test_ab_test_config_custom ... ok
test ab_testing::tests::test_confidence_interval ... ok
test ab_testing::tests::test_assignment_strategy_variants ... ok
test ab_testing::tests::test_experiment_not_found ... ok
test ab_testing::tests::test_experiment_results ... ok
test ab_testing::tests::test_hash_consistency ... ok
test ab_testing::tests::test_list_experiments ... ok
test ab_testing::tests::test_delete_experiment ... ok
test ab_testing::tests::test_delete_nonexistent_experiment ... ok
test ab_testing::tests::test_experiment_status_equality ... ok
test ab_testing::tests::test_experiment_status_serialization ... ok
test ab_testing::tests::test_max_concurrent_experiments ... ok
test ab_testing::tests::test_metric_result_creation ... ok
test ab_testing::tests::test_model_config_serialization ... ok
test ab_testing::tests::test_multiple_outcomes_same_variant ... ok
test ab_testing::tests::test_record_outcome ... ok
test ab_testing::tests::test_record_outcome_nonexistent_experiment ... ok
test ab_testing::tests::test_optimization_direction ... ok
test ab_testing::tests::test_outcome_creation ... ok
test ab_testing::tests::test_results_not_found ... ok
test ab_testing::tests::test_round_robin_assignment ... ok
test ab_testing::tests::test_statistical_analysis ... ok
test ab_testing::tests::test_stop_non_running_experiment ... ok
test ab_testing::tests::test_record_outcome_not_running ... ok
test ab_testing::tests::test_result_status_variants ... ok
test ab_testing::tests::test_start_stop_experiment ... ok
test ab_testing::tests::test_start_non_draft_experiment ... ok
test ab_testing::tests::test_traffic_percentage_zero ... ok
test ab_testing::tests::test_validate_duplicate_variant_ids ... ok
test ab_testing::tests::test_validate_no_test_variants ... ok
test ab_testing::tests::test_validate_traffic_allocation_sum ... ok
test ab_testing::tests::test_success_criteria_serialization ... ok
test ab_testing::tests::test_validate_empty_control_variant_id ... ok
test ab_testing::tests::test_validate_empty_name ... ok
test ab_testing::tests::test_traffic_percentage_full ... ok
test ab_testing::tests::test_variant_results ... ok
test ab_testing::tests::test_variant_serialization ... ok
test backpressure::tests::test_backpressure_config_clone ... ok
test backpressure::tests::test_backpressure_config_custom ... ok
test ab_testing::tests::test_variant_assignment ... ok
test ab_testing::tests::test_variant_assignment_creation ... ok
test backpressure::tests::test_adjust_concurrency_called_on_complete ... ok
test ab_testing::tests::test_weighted_random_assignment ... ok
test backpressure::tests::test_backpressure_manager_creation ... ok
test backpressure::tests::test_backpressure_metrics_clone ... ok
test backpressure::tests::test_backpressure_config_debug ... ok
test backpressure::tests::test_backpressure_config_default ... ok
test backpressure::tests::test_backpressure_metrics_default ... ok
test backpressure::tests::test_backpressure_metrics_serialization ... ok
test backpressure::tests::test_backpressure_metrics_with_priority_sizes ... ok
test backpressure::tests::test_backpressure_result_rejected_none_retry ... ok
test backpressure::tests::test_complete_request_success ... ok
test backpressure::tests::test_estimate_wait_time ... ok
test backpressure::tests::test_backpressure_result_variants ... ok
test backpressure::tests::test_complete_request_failure ... ok
test backpressure::tests::test_graceful_degradation_disabled ... ok
test backpressure::tests::test_get_metrics_updates_queue_sizes ... ok
test backpressure::tests::test_metrics_tracking ... ok
test backpressure::tests::test_priority_all ... ok
test backpressure::tests::test_priority_order_in_manager ... ok
test backpressure::tests::test_priority_ordering ... ok
test backpressure::tests::test_priority_equality ... ok
test backpressure::tests::test_priority_hash ... ok
test backpressure::tests::test_priority_queues_default ... ok
test backpressure::tests::test_priority_queues_new ... ok
test backpressure::tests::test_priority_serialization ... ok
test backpressure::tests::test_request_acceptance ... ok
test backpressure::tests::test_request_metadata_with_tags ... ok
test backpressure::tests::test_request_queuing ... ok
test backpressure::tests::test_request_metadata_clone ... ok
test backpressure::tests::test_request_metadata_creation ... ok
test backpressure::tests::test_should_degrade_request_critical_never_degraded ... ok
test backpressure::tests::test_should_degrade_request_high_never_degraded ... ok
test backpressure::tests::test_should_reject_request_critical_never_rejected ... ok
test backpressure::tests::test_start_twice_fails ... ok
test batch_executor::tests::test_batch_executor_custom_size ... ok
test batch_executor::tests::test_batch_executor_flush ... ok
test backpressure::tests::test_stop_without_start ... ok
test backpressure::tests::test_submit_request_with_custom_timeout ... ok
test batch_executor::tests::test_batch_executor_queuing ... ok
test batch_executor::tests::test_batch_prompt_builder ... ok
test batch_executor::tests::test_batch_request_add_agent ... ok
test batch_executor::tests::test_batch_request_determinism ... ok
test batch_executor::tests::test_execute_batch_deterministic_ordering ... ok
test batch_executor::tests::test_execute_batch_empty_error ... ok
test batch_executor::tests::test_batch_response_operations ... ok
test batch_executor::tests::test_batch_response_parser_simple ... ok
test batch_executor::tests::test_execute_batch_invalid_response ... ok
test batch_executor::tests::test_execute_batch_with_mock_llm ... ok
test batch_executor::tests::test_execute_batch_with_streaming ... ok
test cache::key::tests::test_key_equality_same_normalized ... ok
test cache::key::tests::test_key_inequality_different_temperature ... ok
test cache::key::tests::test_key_temperature_quantization ... ok
test cache::key::tests::test_key_inequality_different_model ... ok
test cache::key::tests::test_key_inequality_different_prompt ... ok
test cache::key::tests::test_prompt_normalization_whitespace ... ok
test cache::key::tests::test_prompt_normalization_timestamps ... ok
test cache::key::tests::test_prompt_normalization_volatile_sections ... ok
test cache::key::tests::test_tools_hash_order_independence ... ok
test cache::lru::tests::test_lru_basic_operations ... ok
test cache::lru::tests::test_lru_access_updates_order ... ok
test cache::key::tests::test_tools_hash_sensitivity ... ok
test cache::lru::tests::test_lru_clear ... ok
test cache::lru::tests::test_lru_update_existing ... ok
test cache::similarity::tests::test_extract_key_tokens_filters_stopwords ... ok
test cache::similarity::tests::test_jaccard_identical ... ok
test cache::similarity::tests::test_jaccard_partial_overlap ... ok
test cache::lru::tests::test_lru_clone_shares_data ... ok
test cache::lru::tests::test_lru_eviction_order ... ok
test cache::similarity::tests::test_jaccard_disjoint ... ok
test cache::similarity::tests::test_jaccard_high_overlap ... ok
test cache::similarity::tests::test_prompt_similarity_similar_tactics ... ok
test cache::similarity::tests::test_prompt_similarity_threshold ... ok
test cache::tests::test_cache_hit_miss ... ok
test cache::tests::test_cache_stats ... ok
test cache::similarity::tests::test_prompt_similarity_different_actions ... ok
test cache::similarity::tests::test_prompt_similarity_identical ... ok
test cache::similarity::tests::test_tokenize_basic ... ok
test cache::similarity::tests::test_tokenize_empty ... ok
test cache::tests::test_lru_eviction ... ok
test circuit_breaker::tests::test_circuit_breaker_config_clone ... ok
test circuit_breaker::tests::test_circuit_breaker_config_custom ... ok
test circuit_breaker::tests::test_circuit_breaker_get_all_status ... ok
test circuit_breaker::tests::test_circuit_breaker_closed_state ... ok
test circuit_breaker::tests::test_circuit_breaker_config_default ... ok
test circuit_breaker::tests::test_circuit_breaker_disabled ... ok
test circuit_breaker::tests::test_circuit_breaker_metrics ... ok
test circuit_breaker::tests::test_circuit_breaker_metrics_successes ... ok
test circuit_breaker::tests::test_circuit_breaker_minimum_requests ... ok
test circuit_breaker::tests::test_circuit_breaker_reset_all ... ok
test circuit_breaker::tests::test_circuit_breaker_metrics_empty ... ok
test circuit_breaker::tests::test_circuit_breaker_opens_on_failures ... ok
test circuit_breaker::tests::test_circuit_breaker_multiple_models ... ok
test circuit_breaker::tests::test_circuit_state_deserialization ... ok
test circuit_breaker::tests::test_circuit_state_equality ... ok
test circuit_breaker::tests::test_circuit_breaker_status_fields ... ok
test circuit_breaker::tests::test_circuit_state_serialization ... ok
test circuit_breaker::tests::test_circuit_breaker_status_not_found ... ok
test circuit_breaker::tests::test_execution_result_failure ... ok
test circuit_breaker::tests::test_execution_result_success ... ok
test compression::tests::test_action_docs_all_actions ... ok
test compression::tests::test_action_docs_compact ... ok
test compression::tests::test_all_prompts_have_rules ... ok
test compression::tests::test_all_prompts_have_json_schema ... ok
test compression::tests::test_build_optimized_prompt ... ok
test compression::tests::test_build_optimized_prompt_support ... ok
test compression::tests::test_build_optimized_prompt_unknown_role_defaults_to_tactical ... ok
test compression::tests::test_build_optimized_prompt_exploration ... ok
test compression::tests::test_build_optimized_prompt_includes_snapshot ... ok
test compression::tests::test_compact_json_snapshot ... ok
test compression::tests::test_compact_schema_content ... ok
test compression::tests::test_compress_exploration_prompt ... ok
test compression::tests::test_compress_generic_text ... ok
test compression::tests::test_compress_stealth_prompt ... ok
test compression::tests::test_compress_support_prompt ... ok
test compression::tests::test_compress_punctuation_spacing ... ok
test compression::tests::test_compress_removes_stop_words ... ok
test compression::tests::test_compress_tactical_prompt ... ok
test compression::tests::test_compression_ratio ... ok
test compression::tests::test_prompt_compressor_new ... ok
test compression::tests::test_snapshot_json_enemies_fields ... ok
test compression::tests::test_compress_whitespace_normalization ... ok
test compression::tests::test_snapshot_empty_arrays ... ok
test compression::tests::test_snapshot_json_contains_all_sections ... ok
test compression::tests::test_snapshot_json_me_fields ... ok
test fallback_system::tests::test_batch_planning_empty ... ok
test fallback_system::tests::test_batch_planning_fallback_to_heuristic ... ok
test compression::tests::test_snapshot_json_pois_fields ... ok
test fallback_system::tests::test_batch_planning_deterministic ... ok
test fallback_system::tests::test_batch_planning_success ... ok
test fallback_system::tests::test_create_simplified_registry ... ok
test fallback_system::tests::test_emergency_always_succeeds ... ok
test circuit_breaker::tests::test_circuit_breaker_half_open_fails ... ok
test fallback_system::tests::test_fallback_attempt_debug ... ok
test fallback_system::tests::test_batch_vs_single_agent_compatibility ... ok
test fallback_system::tests::test_emergency_plan_structure ... ok
test circuit_breaker::tests::test_circuit_breaker_recovery ... ok
test fallback_system::tests::test_fallback_attempt_clone ... ok
test fallback_system::tests::test_fallback_metrics_clone ... ok
test fallback_system::tests::test_fallback_result_clone ... ok
test fallback_system::tests::test_fallback_result_debug ... ok
test fallback_system::tests::test_fallback_tier_copy ... ok
test fallback_system::tests::test_fallback_tier_debug ... ok
test fallback_system::tests::test_fallback_metrics_default ... ok
test fallback_system::tests::test_fallback_orchestrator_default ... ok
test fallback_system::tests::test_fallback_tier_as_str ... ok
test fallback_system::tests::test_fallback_tier_clone ... ok
test fallback_system::tests::test_fallback_tier_ordering ... ok
test fallback_system::tests::test_fallback_to_heuristic ... ok
test fallback_system::tests::test_fallback_tier_equality ... ok
test fallback_system::tests::test_fallback_tier_next ... ok
test fallback_system::tests::test_full_llm_success ... ok
test fallback_system::tests::test_heuristic_no_ammo ... ok
test fallback_system::tests::test_heuristic_low_morale ... ok
test fallback_system::tests::test_metrics_tracking ... ok
test fallback_system::tests::test_record_success_multiple ... ok
test fallback_system::tests::test_simplified_tools_list ... ok
test fallback_system::tests::test_try_heuristic_empty_rules ... ok
test fallback_system::tests::test_try_tier_emergency ... ok
test fallback_system::tests::test_try_tier_heuristic ... ok
test few_shot::tests::test_add_few_shot_max_examples_zero ... ok
test few_shot::tests::test_add_few_shot_to_prompt ... ok
test few_shot::tests::test_example_struct_debug ... ok
test few_shot::tests::test_few_shot_registry_add_example ... ok
test few_shot::tests::test_add_few_shot_examples_preserves_base ... ok
test few_shot::tests::test_example_registry_static_initialization ... ok
test few_shot::tests::test_example_struct_clone ... ok
test few_shot::tests::test_few_shot_registry_multi_tag_example ... ok
test few_shot::tests::test_few_shot_registry_new ... ok
test few_shot::tests::test_few_shot_registry_no_matching_tags ... ok
test few_shot::tests::test_few_shot_registry_tag_filtering ... ok
test few_shot::tests::test_few_shot_registry_token_budget ... ok
test few_shot::tests::test_max_examples_limit ... ok
test few_shot::tests::test_stealth_examples ... ok
test few_shot::tests::test_get_examples_empty_vec_for_unknown_role ... ok
test few_shot::tests::test_stealth_examples_content ... ok
test few_shot::tests::test_support_examples_content ... ok
test few_shot::tests::test_tactical_examples ... ok
test few_shot::tests::test_support_examples ... ok
test heuristics::tests::test_action_attack_nearest_enemy_no_enemies ... ok
test heuristics::tests::test_action_attack_nearest_enemy_no_tool ... ok
test few_shot::tests::test_tactical_examples_content ... ok
test few_shot::tests::test_unknown_role_returns_base ... ok
test heuristics::tests::test_action_attack_nearest_enemy_with_enemy ... ok
test heuristics::tests::test_action_heal_self_no_tool ... ok
test heuristics::tests::test_action_heal_self_with_tool ... ok
test heuristics::tests::test_action_move_to_objective_no_poi ... ok
test heuristics::tests::test_action_reload_with_tool ... ok
test heuristics::tests::test_action_scan_no_tool ... ok
test heuristics::tests::test_action_move_to_objective_with_poi ... ok
test heuristics::tests::test_action_reload_no_tool ... ok
test heuristics::tests::test_action_scan_with_tool ... ok
test heuristics::tests::test_action_serialization_scan ... ok
test heuristics::tests::test_action_take_cover_no_enemies ... ok
test heuristics::tests::test_action_take_cover_when_left_of_enemy ... ok
test heuristics::tests::test_condition_enemy_nearby_false_far ... ok
test heuristics::tests::test_condition_enemy_nearby_false_no_enemies ... ok
test heuristics::tests::test_condition_enemy_visible_true ... ok
test heuristics::tests::test_condition_low_ammo_false ... ok
test heuristics::tests::test_action_take_cover_when_right_of_enemy ... ok
test heuristics::tests::test_condition_always ... ok
test heuristics::tests::test_condition_enemy_nearby_true ... ok
test heuristics::tests::test_condition_enemy_visible_false ... ok
test heuristics::tests::test_condition_low_morale_true ... ok
test heuristics::tests::test_condition_objective_contains_false_no_match ... ok
test heuristics::tests::test_condition_low_ammo_true ... ok
test heuristics::tests::test_condition_low_morale_false ... ok
test heuristics::tests::test_condition_serialization_low_morale ... ok
test heuristics::tests::test_evaluate_returns_action_when_condition_true ... ok
test heuristics::tests::test_heuristic_config_default ... ok
test heuristics::tests::test_heuristic_config_serialization ... ok
test heuristics::tests::test_condition_objective_contains_false_no_objective ... ok
test heuristics::tests::test_condition_objective_contains_true ... ok
test heuristics::tests::test_evaluate_returns_none_when_condition_false ... ok
test heuristics::tests::test_heuristic_config_custom_rules ... ok
test plan_parser::tests::test_code_fence_extraction ... ok
test plan_parser::tests::test_code_fence_with_language_tag ... ok
test heuristics::tests::test_rule_serialization_roundtrip ... ok
test plan_parser::tests::test_action_step_to_tool_name_common_variants ... ok
test plan_parser::tests::test_empty_registry_rejects_all_tools ... ok
test plan_parser::tests::test_empty_steps_warning ... ok
test plan_parser::tests::test_code_fence_without_language_tag ... ok
test plan_parser::tests::test_direct_parse_valid_json ... ok
test plan_parser::tests::test_extraction_method_clone ... ok
test plan_parser::tests::test_extraction_method_debug ... ok
test plan_parser::tests::test_malformed_json_fails ... ok
test plan_parser::tests::test_multiple_steps_parsed ... ok
test plan_parser::tests::test_envelope_extraction ... ok
test plan_parser::tests::test_extraction_method_as_str ... ok
test plan_parser::tests::test_hallucination_detection ... ok
test plan_parser::tests::test_extraction_method_equality ... ok
test plan_parser::tests::test_object_extraction ... ok
test plan_parser::tests::test_nested_envelope ... ok
test plan_parser::tests::test_non_json_text_fails ... ok
test plan_parser::tests::test_parse_result_clone ... ok
test plan_parser::tests::test_tolerant_plan_id_variations ... ok
test plan_parser::tests::test_truncate_long_string ... ok
test production_hardening::tests::test_component_health_clone ... ok
test production_hardening::tests::test_component_health_creation ... ok
test plan_parser::tests::test_parse_result_debug ... ok
test plan_parser::tests::test_registry_with_all_tools ... ok
test plan_parser::tests::test_truncate_short_string ... ok
test plan_parser::tests::test_whitespace_handling ... ok
test production_hardening::tests::test_component_health_with_error ... ok
test production_hardening::tests::test_component_health_deserialization ... ok
test production_hardening::tests::test_component_health_serialization ... ok
test production_hardening::tests::test_get_system_status_after_start ... ok
test production_hardening::tests::test_hardened_request_debug ... ok
test production_hardening::tests::test_hardened_request_no_timeout ... ok
test production_hardening::tests::test_hardened_request_clone ... ok
test production_hardening::tests::test_hardened_request_creation ... ok
test production_hardening::tests::test_hardened_request_with_metadata ... ok
test production_hardening::tests::test_hardening_config_clone ... ok
test production_hardening::tests::test_hardening_config_custom_values ... ok
test production_hardening::tests::test_hardened_request_with_timeout ... ok
test production_hardening::tests::test_hardening_result_debug ... ok
test production_hardening::tests::test_hardening_result_rejected_with_no_retry ... ok
test production_hardening::tests::test_hardening_config_debug ... ok
test production_hardening::tests::test_hardening_config_default ... ok
test production_hardening::tests::test_health_check_config_debug ... ok
test production_hardening::tests::test_hardening_result_variants ... ok
test production_hardening::tests::test_health_check_config_clone ... ok
test production_hardening::tests::test_health_check_config_default ... ok
test production_hardening::tests::test_health_checker_get_overall_health_with_mixed_status ... ok
test production_hardening::tests::test_health_checker_check_health_failure ... ok
test production_hardening::tests::test_health_checker_get_overall_health ... ok
test production_hardening::tests::test_health_checker_check_health_success ... ok
test production_hardening::tests::test_health_checker_get_overall_health_unhealthy ... ok
test production_hardening::tests::test_health_checker_check_health_timeout ... ok
test production_hardening::tests::test_health_checker_initial_status ... ok
test production_hardening::tests::test_health_checker_consecutive_failures_threshold ... ok
test production_hardening::tests::test_health_recovery_from_degraded ... ok
test production_hardening::tests::test_health_status_deserialization ... ok
test production_hardening::tests::test_health_checker_new ... ok
test production_hardening::tests::test_health_checker_new_component ... ok
test production_hardening::tests::test_health_status_equality ... ok
test production_hardening::tests::test_priority_conversion_all_variants ... ok
test production_hardening::tests::test_priority_usage ... ok
test production_hardening::tests::test_health_status_serialization ... ok
test production_hardening::tests::test_production_hardening_layer_creation ... ok
test production_hardening::tests::test_production_layer_shutdown_without_start ... ok
test production_hardening::tests::test_production_layer_start ... ok
test production_hardening::tests::test_successful_request_processing ... ignored
test production_hardening::tests::test_record_failure ... ok
test production_hardening::tests::test_record_success ... ok
test production_hardening::tests::test_system_health_creation ... ok
test production_hardening::tests::test_system_health_deserialization ... ok
test prompt_template::tests::test_build_enhanced_prompt ... ok
test prompt_template::tests::test_config_options ... ok
test production_hardening::tests::test_system_health_clone ... ok
test production_hardening::tests::test_system_health_serialization ... ok
test production_hardening::tests::test_system_status ... ok
test prompt_template::tests::test_few_shot_examples_count ... ok
test prompt_template::tests::test_tool_vocabulary_includes_all_categories ... ok
test prompts::tests::test_action_history ... ok
test prompts::tests::test_prompt_builder_roles ... ok
test prompts::tests::test_quick_prompts ... ok
test prompt_template::tests::test_json_schema_has_all_tools ... ok
test prompts::tests::test_constraints ... ok
test prompts::tests::test_prompt_builder_basic ... ok
test prompts::tests::test_snapshot_json_format ... ok
test rate_limiter::tests::test_check_rate_limit_without_user ... ok
test rate_limiter::tests::test_adaptive_rate_limiting ... ok
test rate_limiter::tests::test_clear_rate_limits ... ok
test rate_limiter::tests::test_rate_limit_enforcement ... ok
test rate_limiter::tests::test_rate_limit_status_serialization ... ok
test rate_limiter::tests::test_model_limit_status_serialization ... ok
test rate_limiter::tests::test_priority_variants ... ok
test rate_limiter::tests::test_rate_limiter_config_debug ... ok
test rate_limiter::tests::test_rate_limiter_config_default ... ok
test rate_limiter::tests::test_user_limit_status_serialization ... ok
test retry::tests::test_backoff_cap ... ok
test rate_limiter::tests::test_rate_limiter_config_clone ... ok
test rate_limiter::tests::test_rate_limiter_config_custom ... ok
test rate_limiter::tests::test_rate_limiter_creation ... ok
test rate_limiter::tests::test_report_result_success ... ok
test retry::tests::test_retry_config_production ... ok
test retry::tests::test_retry_config_disabled ... ok
test retry::tests::test_retry_executor_success_first_try ... ok
test retry::tests::test_exponential_backoff ... ok
test retry::tests::test_jitter_adds_randomness ... ok
test retry::tests::test_retry_executor_permanent_error_no_retry ... ok
test retry::tests::test_should_not_retry_permanent_errors ... ok
test retry::tests::test_should_retry_transient_errors ... ok
test retry::tests::test_retry_executor_success_after_retries ... ok
test retry::tests::test_retry_executor_exhausts_retries ... ok
test scheduler::tests::test_get_status_nonexistent ... ok
test scheduler::tests::test_request_priority_clone ... ok
test scheduler::tests::test_request_priority_ordering ... ok
test scheduler::tests::test_request_result_clone ... ok
test scheduler::tests::test_request_priority_debug ... ok
test scheduler::tests::test_request_priority_equality ... ok
test scheduler::tests::test_request_status_equality ... ok
test scheduler::tests::test_request_status_debug ... ok
test scheduler::tests::test_request_result_debug ... ok
test scheduler::tests::test_request_status_clone ... ok
test scheduler::tests::test_scheduler_stats_clone ... ok
test scheduler::tests::test_scheduler_stats_debug ... ok
test scheduler::tests::test_scheduler_stats_default ... ok
test schema::tests::test_empty_steps_array ... ok
test scheduler::tests::test_scheduler_stats_total ... ok
test schema::tests::test_json_type_name_array ... ok
test schema::tests::test_json_type_name_bool ... ok
test schema::tests::test_invalid_json ... ok
test schema::tests::test_json_type_name_null ... ok
test schema::tests::test_json_type_name_object ... ok
test schema::tests::test_json_type_name_string ... ok
test scheduler::tests::test_scheduler_stats ... ok
test schema::tests::test_json_type_name_number ... ok
test schema::tests::test_missing_plan_id ... ok
test schema::tests::test_nested_step_validation ... ok
test schema::tests::test_require_array_missing ... ok
test schema::tests::test_multiple_validation_errors ... ok
test scheduler::tests::test_scheduler_basic ... ok
test schema::tests::test_require_array_valid ... ok
test schema::tests::test_require_array_wrong_type ... ok
test schema::tests::test_require_field_missing ... ok
test schema::tests::test_require_field_null ... ok
test schema::tests::test_require_number_missing ... ok
test schema::tests::test_require_number_valid ... ok
test schema::tests::test_require_field_present ... ok
test schema::tests::test_require_number_float ... ok
test scheduler::tests::test_submit_and_wait ... ok
test schema::tests::test_require_number_wrong_type ... ok
test schema::tests::test_require_string_missing ... ok
test schema::tests::test_schema_description ... ok
test schema::tests::test_schema_name ... ok
test schema::tests::test_require_string_valid ... ok
test schema::tests::test_require_string_wrong_type ... ok
test schema::tests::test_step_missing_act ... ok
test schema::tests::test_valid_plan ... ok
test schema::tests::test_validation_error_clone ... ok
test schema::tests::test_validation_error_array_length_display ... ok
test schema::tests::test_valid_plan_with_multiple_steps ... ok
test schema::tests::test_valid_plan_with_whitespace ... ok
test schema::tests::test_validation_error_custom_rule_display ... ok
test schema::tests::test_validation_error_missing_field_display ... ok
test schema::tests::test_validation_error_out_of_range_display ... ok
test schema::tests::test_validation_error_wrong_type_display ... ok
test schema::tests::test_wrong_type_steps ... ok
test schema::tests::test_validation_error_is_error_trait ... ok
test schema::tests::test_validation_error_parse_error_display ... ok
test schema::tests::test_validation_error_unknown_field_display ... ok
test streaming_parser::tests::test_parse_streaming_batch_from_reader ... ok
test streaming_parser::tests::test_streaming_parser_byte_by_byte ... ok
test streaming_parser::tests::test_streaming_parser_incremental ... ok
test streaming_parser::tests::test_finalize_validates_count ... ok
test streaming_parser::tests::test_parse_complete_batch_helper ... ok
test streaming_parser::tests::test_streaming_parser_escaped_strings ... ok
test streaming_parser::tests::test_streaming_parser_incomplete_json ... ok
test streaming_parser::tests::test_streaming_parser_single_chunk ... ok
test telemetry::tests::test_format_output ... ok
test telemetry::tests::test_latency_tracking ... ok
test streaming_parser::tests::test_streaming_parser_with_whitespace ... ok
test telemetry::tests::test_cache_metrics ... ok
test telemetry::tests::test_record_requests ... ok
test telemetry::tests::test_telemetry_creation ... ok
test tests::test_always_err_mock ... ok
test telemetry::tests::test_reset ... ok
test telemetry::tests::test_success_rate_calculation ... ok
test tests::test_build_prompt ... ok
test tests::test_build_prompt_includes_enemies ... ok
test scheduler::tests::test_scheduler_priority ... ok
test tests::test_build_prompt_includes_world_state ... ok
test tests::test_clear_global_cache_does_not_panic ... ok
test tests::test_create_test_registry_content ... ok
test tests::test_create_test_world_snapshot_content ... ok
test telemetry::tests::test_operation_timer ... ok
test tests::test_estimate_tokens ... ok
test tests::test_extract_json_from_fenced_json_tag ... ok
test tests::test_extract_json_from_fenced_no_tag ... ok
test tests::test_extract_json_from_fenced_none ... ok
test tests::test_extract_json_object_with_string_braces ... ok
test tests::test_extract_json_object_simple ... ok
test tests::test_extract_json_object_nested ... ok
test tests::test_extract_json_object_no_json ... ok
test tests::test_extract_last_json_object_multiple ... ok
test tests::test_extract_last_json_object_none ... ok
test tests::test_fallback_heuristic_plan_with_objective ... ok
test tests::test_fallback_heuristic_plan_with_enemies ... ok
test tests::test_mock_llm_client ... ok
test tests::test_mock_llm_returns_valid_steps ... ok
test tests::test_extract_last_json_object_single ... ok
test tests::test_fallback_heuristic_plan_empty_tools ... ok
test tests::test_llm_client_streaming_default ... ok
test tests::test_max_coord_bound_constant ... ok
test tests::test_parse_llm_plan_all_action_types ... ok
test tests::test_parse_llm_plan_disallowed_tool ... ok
test tests::test_parse_llm_plan_from_fenced_json ... ok
test tests::test_parse_llm_plan_invalid_json ... ok
test tests::test_parse_llm_plan_empty_steps ... ok
test tests::test_parse_llm_plan_from_envelope_message_content ... ok
test tests::test_parse_llm_plan_malformed_step ... ok
test tests::test_parse_llm_plan_missing_plan_id ... ok
test tests::test_parse_llm_plan_pick_last_json_object ... ok
test tests::test_parse_llm_plan_valid ... ok
test tests::test_parse_llm_plan_with_nonstandard_planid_key ... ok
test tests::test_plan_from_llm_disallowed_tool ... ok
test tests::test_parse_llm_plan_with_case_variations ... ok
test tests::test_parse_llm_plan_with_extra_fields ... ok
test tests::test_plan_from_llm_invalid_response ... ok
test tests::test_plan_from_llm_success ... ok
test tests::test_plan_from_llm_with_valid_tool ... ok
test tests::test_plan_source_clone ... ok
test tests::test_plan_source_debug ... ok
test tests::test_plan_source_llm_variant ... ok
test tests::test_prompt_includes_constraints ... ok
test tests::test_plan_source_fallback_variant ... ok
test tests::test_sanitize_plan_allows_other_steps ... ok
test tests::test_sanitize_plan_removes_out_of_bounds ... ok
test tests::test_sanitize_plan_validates_cover_fire ... ok
test tests::test_sanitize_plan_validates_throw_items ... ok
test tests::test_strip_code_fences_without_fence ... ok
test tests::test_strip_code_fences_incomplete_fence ... ok
test tests::test_test_llm_client_returns_configured_response ... ok
test tests::test_strip_code_fences_with_fence ... ok
test tests::test_validate_plan_allows_generic_steps ... ok
test tests::test_validate_plan_disallowed_move_to ... ok
test tests::test_validate_plan_disallowed_revive ... ok
test tool_guard::tests::test_all_valid_empty_batch ... ok
test tool_guard::tests::test_audit_entry_clone ... ok
test tests::test_validate_plan_disallowed_cover_fire ... ok
test tests::test_validate_plan_disallowed_throw ... ok
test tool_guard::tests::test_audit_entry_serialization ... ok
test tool_guard::tests::test_action_name_all_variants ... ok
test tool_guard::tests::test_audit_log ... ok
test tool_guard::tests::test_default_policy ... ok
test tool_guard::tests::test_batch_validation ... ok
test tool_guard::tests::test_default_trait_impl ... ok
test tool_guard::tests::test_audit_entry_with_reason ... ok
test tool_guard::tests::test_clear_audit_log ... ok
test tool_guard::tests::test_custom_policy ... ok
test tool_guard::tests::test_denied_action ... ok
test tool_guard::tests::test_restricted_action_valid ... ok
test tool_guard::tests::test_set_default_policy ... ok
test tool_guard::tests::test_restricted_action_invalid ... ok
test tool_guard::tests::test_tool_policy_deserialization ... ok
test tool_guard::tests::test_tool_guard_basic ... ok
test tool_guard::tests::test_tool_policy_copy ... ok
test tool_guard::tests::test_tool_policy_serialization ... ok
test tool_guard::tests::test_tool_policy_equality ... ok
test tool_guard::tests::test_validation_result_is_valid ... ok
test tool_guard::tests::test_validation_result_reason ... ok
test tool_guard::tests::test_validate_empty_batch ... ok
test tool_guard::tests::test_validation_stats ... ok
test tool_guard::tests::test_validation_stats_default ... ok
test tool_guard::tests::test_validation_stats_rejection_rate ... ok
test tool_guard::tests::test_validation_stats_rejection_rate_zero_total ... ok
test tool_guard::tests::test_validation_stats_serialization ... ok
test tool_guard::tests::test_validation_stats_total ... ok

test result: ok. 534 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 11.14s

