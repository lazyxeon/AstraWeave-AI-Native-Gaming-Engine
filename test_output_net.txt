   Compiling astraweave-net v0.1.0 (C:\Users\pv2br\AstraWeave-AI-Native-Gaming-Engine\astraweave-net)
warning: unused import: `IVec2`
 --> astraweave-net\tests\integration\server_logic_tests.rs:7:47
  |
7 | use astraweave_core::{ActionStep, PlanIntent, IVec2};
  |                                               ^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: variable `got_delta` is assigned to, but never used
   --> astraweave-net\tests\integration\server_logic_tests.rs:122:13
    |
122 |     let mut got_delta = false;
    |             ^^^^^^^^^
    |
    = note: consider using `_got_delta` instead
    = note: `#[warn(unused_variables)]` on by default

warning: value assigned to `got_delta` is never read
   --> astraweave-net\tests\integration\server_logic_tests.rs:126:13
    |
126 |             got_delta = true;
    |             ^^^^^^^^^
    |
    = help: maybe it is overwritten before being read?
    = note: `#[warn(unused_assignments)]` on by default

warning: methods `client_count` and `get_entity_pos` are never used
  --> astraweave-net\tests\common\mod.rs:24:18
   |
22 | impl TestServer {
   | --------------- methods in this implementation
23 |     /// Get the number of connected clients
24 |     pub async fn client_count(&self) -> usize {
   |                  ^^^^^^^^^^^^
...
48 |     pub async fn get_entity_pos(&self, id: u32) -> Option<IVec2> {
   |                  ^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: field `name` is never read
  --> astraweave-net\tests\common\mod.rs:73:9
   |
71 | pub struct TestClient {
   |            ---------- field in this struct
72 |     pub ws: WebSocketStream<MaybeTlsStream<TcpStream>>,
73 |     pub name: String,
   |         ^^^^

warning: method `is_connected` is never used
   --> astraweave-net\tests\common\mod.rs:102:12
    |
78  | impl TestClient {
    | --------------- method in this implementation
...
102 |     pub fn is_connected(&self) -> bool {
    |            ^^^^^^^^^^^^

warning: function `create_test_world` is never used
   --> astraweave-net\tests\common\mod.rs:219:8
    |
219 | pub fn create_test_world() -> World {
    |        ^^^^^^^^^^^^^^^^^

warning: function `wait_for_condition` is never used
   --> astraweave-net\tests\common\mod.rs:239:14
    |
239 | pub async fn wait_for_condition<F>(mut check: F, timeout_ms: u64) -> Result<()>
    |              ^^^^^^^^^^^^^^^^^^

warning: `astraweave-net` (test "integration_tests") generated 8 warnings (run `cargo fix --test "integration_tests"` to apply 1 suggestion)
    Finished `test` profile [optimized + debuginfo] target(s) in 26.55s
     Running unittests src\lib.rs (target\debug\deps\astraweave_net-c85a9ba1b28d3fd8.exe)

running 38 tests
test tests::fov_los_interest_blocks_through_wall ... ok
test tests::delta_roundtrip ... ok
test tests::snapshot_hash_stable ... ok
test tests::test_delta_equality ... ok
test tests::replay_determinism ... ok
test tests::test_diff_snapshots_new_entity ... ok
test tests::test_diff_snapshots_with_exclusion ... ok
test tests::test_entity_delta_equality ... ok
test tests::interest_filter_basic ... ok
test tests::test_apply_delta_creates_new_entity ... ok
test tests::test_apply_delta_mismatched_tick ... ok
test tests::test_diff_snapshots_no_change ... ok
test tests::test_diff_snapshots_team_change ... ok
test tests::multi_client_consistency_filtered_hash ... ok
test tests::test_entity_delta_mask_flags ... ok
test tests::delta_removal_on_interest_change ... ok
test tests::test_entity_state_equality ... ok
test tests::test_fov_interest_basic ... ok
test tests::test_fov_interest_zero_facing ... ok
test tests::test_fov_los_interest_out_of_range ... ok
test tests::test_fov_los_interest_zero_facing ... ok
test tests::test_full_interest_includes_all ... ok
test tests::test_interest_policy_variants ... ok
test tests::test_msg_ack_serialization ... ok
test tests::test_entity_state_clone ... ok
test tests::test_fov_interest_out_of_range ... ok
test tests::test_fov_interest_same_position ... ok
test tests::test_fov_los_interest_same_team ... ok
test tests::test_game_server_default ... ok
test tests::test_has_los_negative_sx ... ok
test tests::test_fov_los_interest_same_position_enemy ... ok
test tests::test_msg_apply_result_serialization ... ok
test tests::test_msg_welcome_serialization ... ok
test tests::test_radius_interest_same_team_always_included ... ok
test tests::test_snapshot_clone ... ok
test tests::test_msg_serialization ... ok
test tests::test_server_event_clone ... ok
test tests::test_replay_event_serialization ... ok

test result: ok. 38 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

     Running tests\boundary_condition_tests.rs (target\debug\deps\boundary_condition_tests-5d5c919ecb2f91da.exe)

running 6 tests
test test_diff_snapshots_empty_collections_no_changes ... ok
test test_apply_delta_tick_mismatch_no_change ... ok
test test_filter_snapshot_for_viewer_empty_entities_stays_empty ... ok
test test_msg_clienthello_empty_name_roundtrip ... ok
test test_msg_clienthello_very_long_name_roundtrip ... ok
test test_diff_and_apply_delta_large_collection_does_not_panic ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests\concurrent_stress_tests.rs (target\debug\deps\concurrent_stress_tests-f6cbf6e08d836604.exe)

running 1 test
test test_concurrent_diff_apply_and_serialize_no_panic ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.37s

     Running tests\integration_tests.rs (target\debug\deps\integration_tests-89dbae60784766ed.exe)

running 83 tests
test auth_tests::test_client_hello_with_long_name ... ok
test auth_tests::test_client_hello_with_long_token ... ok
test auth_tests::test_client_hello_with_sql_injection_token ... ok
test auth_tests::test_client_hello_with_unicode_name ... ok
test auth_tests::test_client_hello_with_empty_name ... ok
test auth_tests::test_client_hello_with_empty_token ... ok
test auth_tests::test_client_hello_with_policy ... ok
test auth_tests::test_client_hello_with_special_chars_token ... ok
test auth_tests::test_client_hello_without_token ... ok
test auth_tests::test_client_propose_plan_serialization ... ok
test auth_tests::test_empty_token_not_equal_to_dev ... ok
test auth_tests::test_extra_fields_ignored ... ok
test auth_tests::test_client_hello_with_unicode_token ... ok
test auth_tests::test_dev_token_recognized ... ok
test auth_tests::test_empty_json_rejected ... ok
test auth_tests::test_client_hello_with_whitespace_token ... ok
test auth_tests::test_json_string_rejected ... ok
test auth_tests::test_malformed_json_rejected ... ok
test auth_tests::test_json_array_rejected ... ok
test auth_tests::test_missing_required_fields_rejected ... ok
test auth_tests::test_json_number_rejected ... ok
test auth_tests::test_null_json_rejected ... ok
test auth_tests::test_server_apply_result_success ... ok
test auth_tests::test_none_token_handled ... ok
test auth_tests::test_server_welcome_serialization ... ok
test auth_tests::test_token_comparison_case_sensitive ... ok
test auth_tests::test_token_comparison_exact_match ... ok
test auth_tests::test_unknown_message_type_rejected ... ok
test auth_tests::test_valid_client_hello_serialization ... ok
test auth_tests::test_wrong_field_types_rejected ... ok
test packet_loss_tests::test_20_percent_loss_delta_application ... ok
test packet_loss_tests::test_20_percent_loss_entity_creation ... ok
test packet_loss_tests::test_20_percent_loss_concurrent_modifications ... ok
test packet_loss_tests::test_20_percent_loss_state_updates ... ok
test packet_loss_tests::test_20_percent_loss_no_data_corruption ... ok
test packet_loss_tests::test_5_percent_loss_entity_sync ... ok
test packet_loss_tests::test_5_percent_loss_eventual_consistency ... ok
test packet_loss_tests::test_5_percent_loss_no_divergence ... ok
test packet_loss_tests::test_50_percent_loss_basic_sync ... ok
test packet_loss_tests::test_5_percent_loss_multiple_updates ... ok
test packet_loss_tests::test_5_percent_loss_tick_progression ... ok
test packet_loss_tests::test_50_percent_loss_no_state_corruption ... ok
test packet_loss_tests::test_no_duplicate_packets_baseline ... ok
test packet_loss_tests::test_50_percent_loss_tick_monotonicity ... ok
test packet_loss_tests::test_all_packets_arrive_no_loss ... ok
test packet_loss_tests::test_50_percent_loss_eventual_consistency ... ok
test packet_loss_tests::test_multiple_clients_with_packet_loss ... ok
test packet_loss_tests::test_state_consistency_no_loss ... ok
test packet_loss_tests::test_burst_packet_loss ... ok
test packet_loss_tests::test_zero_packet_loss_baseline ... ok
test packet_loss_tests::test_snapshot_sequence_no_gaps ... ok
test packet_loss_tests::test_snapshot_consistency_under_loss ... ok
test sync_tests::test_client_disconnect_no_crash ... ok
test packet_loss_tests::test_50_percent_loss_recovery ... ok
test sync_tests::test_delta_compression_minimal_size ... ok
test sync_tests::test_delta_compression_preserves_state ... ok
test sync_tests::test_delta_handles_entity_addition ... ok
test sync_tests::test_client_join_mid_game ... ok
test sync_tests::test_delta_mismatched_base_tick_ignored ... ok
test sync_tests::test_delta_handles_entity_removal ... ok
test sync_tests::test_delta_tick_consistency ... ok
test sync_tests::test_empty_snapshot_handling ... ok
test sync_tests::test_interest_filtering_fov ... ok
test sync_tests::test_interest_filtering_fov_los_blocked ... ok
test sync_tests::test_interest_filtering_radius ... ok
test server_logic_tests::test_server_delta_compression_flow ... FAILED
test sync_tests::test_interest_filtering_team_always_visible ... ok
test sync_tests::test_large_entity_count_sync ... ok
test packet_loss_tests::test_packet_loss_with_rapid_changes ... ok
test packet_loss_tests::test_varying_packet_loss_stability ... ok
test server_logic_tests::test_server_full_handshake_and_sync ... FAILED
test sync_tests::test_invalid_move_rejected_by_server ... ok
test sync_tests::test_rapid_state_changes_synchronized ... ok
test sync_tests::test_server_authority_position_override ... ok
test sync_tests::test_concurrent_client_modifications ... ok
test sync_tests::test_late_joiner_gets_full_snapshot ... ok
test sync_tests::test_two_clients_see_same_world_state ... ok
test sync_tests::test_world_hash_consistency ... ok
test sync_tests::test_multiple_clients_state_convergence ... ok
test sync_tests::test_multiple_disconnect_reconnect_cycles ... ok
test sync_tests::test_snapshot_seq_monotonicity ... ok
test server_logic_tests::test_server_interest_policy_switching ... FAILED
test sync_tests::test_snapshot_tick_monotonicity ... ok

failures:

---- server_logic_tests::test_server_delta_compression_flow stdout ----
Server on 127.0.0.1:51270
Hello from player

thread 'server_logic_tests::test_server_delta_compression_flow' panicked at astraweave-net\tests\integration\server_logic_tests.rs:124:51:
called `Result::unwrap()` on an `Err` value: timeout
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- server_logic_tests::test_server_full_handshake_and_sync stdout ----
Server on 127.0.0.1:51271
Hello from player
Plan move_test with 1 steps
  [0] MOVE_TO -> (5,5) ""

thread 'server_logic_tests::test_server_full_handshake_and_sync' panicked at astraweave-net\tests\integration\server_logic_tests.rs:34:51:
called `Result::unwrap()` on an `Err` value: timeout

---- server_logic_tests::test_server_interest_policy_switching stdout ----
Server on 127.0.0.1:51273
Hello from player
Hello from player
Hello from player

thread 'server_logic_tests::test_server_interest_policy_switching' panicked at astraweave-net\tests\integration\server_logic_tests.rs:98:54:
called `Result::unwrap()` on an `Err` value: timeout


failures:
    server_logic_tests::test_server_delta_compression_flow
    server_logic_tests::test_server_full_handshake_and_sync
    server_logic_tests::test_server_interest_policy_switching

test result: FAILED. 80 passed; 3 failed; 0 ignored; 0 measured; 0 filtered out; finished in 5.84s

error: test failed, to rerun pass `-p astraweave-net --test integration_tests`
